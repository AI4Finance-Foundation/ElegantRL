import os
from rlsolver.methods.config import GRAPH_DISTRI_TYPES
from rlsolver.methods.util_generate import generate_graph, save_graph_info_to_txt
from rlsolver.methods.util_result import calc_obj_maxcut_xstr

GraphListBA300_ID1 = [
    (0, 1), (0, 2), (0, 3), (0, 4), (0, 5), (0, 6), (0, 7), (0, 9), (0, 10), (0, 11), (0, 15), (0, 18), (0, 19),
    (0, 20), (0, 21), (0, 24), (0, 25), (0, 26), (0, 27), (0, 28), (0, 34), (0, 35), (0, 38), (0, 39), (0, 40), (0, 47),
    (0, 50), (0, 51), (0, 52), (0, 55), (0, 59), (0, 61), (0, 63), (0, 65), (0, 67), (0, 83), (0, 98), (0, 100),
    (0, 101), (0, 107), (0, 109), (0, 117), (0, 137), (0, 152), (0, 156), (0, 179), (0, 186), (0, 201), (0, 203),
    (0, 206), (0, 217), (0, 219), (0, 220), (0, 222), (0, 227), (0, 243), (0, 246), (0, 247), (0, 269), (0, 273),
    (0, 281), (0, 292), (1, 5), (1, 6), (1, 7), (1, 11), (1, 12), (1, 15), (1, 17), (1, 18), (1, 20), (1, 42), (1, 47),
    (1, 62), (1, 73), (1, 80), (1, 89), (1, 110), (1, 138), (1, 140), (1, 147), (1, 155), (1, 168), (1, 198), (1, 246),
    (1, 256), (1, 259), (1, 268), (1, 273), (2, 5), (2, 7), (2, 12), (2, 14), (2, 16), (2, 22), (2, 23), (2, 27),
    (2, 38), (2, 43), (2, 54), (2, 64), (2, 73), (2, 76), (2, 78), (2, 83), (2, 96), (2, 99), (2, 114), (2, 115),
    (2, 121), (2, 125), (2, 150), (2, 154), (2, 170), (2, 183), (2, 185), (2, 206), (2, 219), (2, 221), (2, 236),
    (2, 244), (2, 269), (2, 277), (2, 279), (2, 288), (2, 292), (2, 296), (3, 5), (3, 6), (3, 7), (3, 8), (3, 9),
    (3, 11), (3, 13), (3, 14), (3, 20), (3, 21), (3, 24), (3, 26), (3, 27), (3, 29), (3, 36), (3, 43), (3, 47), (3, 48),
    (3, 58), (3, 59), (3, 63), (3, 65), (3, 67), (3, 75), (3, 81), (3, 86), (3, 87), (3, 93), (3, 96), (3, 102),
    (3, 108), (3, 130), (3, 131), (3, 184), (3, 216), (3, 232), (3, 240), (3, 245), (3, 254), (3, 286), (4, 10),
    (4, 44), (4, 102), (5, 6), (5, 8), (5, 9), (5, 16), (5, 19), (5, 21), (5, 28), (5, 29), (5, 33), (5, 34), (5, 37),
    (5, 50), (5, 55), (5, 56), (5, 57), (5, 58), (5, 59), (5, 64), (5, 74), (5, 82), (5, 87), (5, 97), (5, 150),
    (5, 153), (5, 156), (5, 158), (5, 163), (5, 164), (5, 196), (5, 201), (5, 207), (5, 235), (5, 242), (5, 250),
    (5, 254), (5, 286), (5, 291), (6, 8), (6, 9), (6, 10), (6, 13), (6, 15), (6, 17), (6, 24), (6, 26), (6, 33),
    (6, 38), (6, 43), (6, 45), (6, 51), (6, 52), (6, 53), (6, 56), (6, 64), (6, 77), (6, 99), (6, 105), (6, 127),
    (6, 131), (6, 139), (6, 189), (6, 241), (6, 266), (6, 272), (7, 8), (7, 106), (7, 146), (8, 12), (8, 18), (8, 19),
    (8, 32), (8, 38), (8, 40), (8, 41), (8, 43), (8, 44), (8, 50), (8, 57), (8, 69), (8, 70), (8, 76), (8, 80), (8, 82),
    (8, 100), (8, 103), (8, 124), (8, 126), (8, 136), (8, 143), (8, 144), (8, 150), (8, 151), (8, 154), (8, 165),
    (8, 166), (8, 194), (8, 204), (8, 214), (8, 233), (8, 241), (8, 244), (8, 253), (8, 254), (8, 259), (8, 270),
    (8, 296), (9, 10), (9, 11), (9, 13), (9, 16), (9, 17), (9, 22), (9, 23), (9, 34), (9, 36), (9, 37), (9, 50),
    (9, 60), (9, 70), (9, 83), (9, 114), (9, 132), (9, 142), (9, 165), (9, 197), (9, 199), (9, 254), (9, 265), (9, 275),
    (9, 282), (9, 289), (9, 293), (10, 29), (10, 34), (10, 47), (10, 56), (10, 61), (10, 119), (10, 120), (10, 140),
    (10, 142), (10, 187), (10, 194), (10, 199), (10, 234), (10, 261), (10, 264), (10, 272), (11, 12), (11, 13),
    (11, 14), (11, 20), (11, 23), (11, 30), (11, 31), (11, 32), (11, 33), (11, 42), (11, 45), (11, 46), (11, 55),
    (11, 63), (11, 64), (11, 67), (11, 72), (11, 77), (11, 96), (11, 106), (11, 110), (11, 117), (11, 132), (11, 135),
    (11, 139), (11, 145), (11, 153), (11, 161), (11, 167), (11, 190), (11, 216), (11, 239), (11, 247), (11, 248),
    (11, 262), (11, 274), (11, 285), (11, 290), (11, 296), (12, 29), (12, 44), (12, 51), (12, 52), (12, 80), (12, 82),
    (12, 89), (12, 103), (12, 125), (12, 201), (12, 210), (12, 215), (12, 273), (12, 277), (12, 285), (12, 287),
    (13, 14), (13, 15), (13, 16), (13, 17), (13, 30), (13, 31), (13, 32), (13, 52), (13, 79), (13, 80), (13, 83),
    (13, 90), (13, 93), (13, 95), (13, 112), (13, 113), (13, 136), (13, 141), (13, 164), (13, 170), (13, 171),
    (13, 199), (13, 203), (13, 211), (13, 232), (13, 249), (13, 270), (13, 295), (14, 19), (14, 35), (14, 59), (14, 78),
    (14, 88), (14, 146), (14, 173), (14, 182), (14, 186), (14, 188), (14, 202), (14, 204), (14, 243), (14, 294),
    (15, 18), (15, 25), (15, 27), (15, 31), (15, 35), (15, 37), (15, 39), (15, 48), (15, 54), (15, 62), (15, 63),
    (15, 67), (15, 68), (15, 75), (15, 101), (15, 107), (15, 166), (15, 171), (15, 179), (15, 191), (15, 215),
    (15, 237), (15, 242), (15, 245), (15, 261), (15, 264), (15, 272), (15, 289), (16, 22), (16, 25), (16, 28), (16, 36),
    (16, 37), (16, 39), (16, 40), (16, 53), (16, 58), (16, 65), (16, 68), (16, 77), (16, 94), (16, 97), (16, 98),
    (16, 107), (16, 134), (16, 137), (16, 147), (16, 168), (16, 173), (16, 181), (16, 187), (16, 189), (16, 191),
    (16, 294), (16, 298), (17, 30), (17, 75), (17, 251), (18, 32), (18, 41), (18, 89), (18, 168), (18, 279), (19, 21),
    (19, 24), (19, 26), (19, 85), (19, 162), (19, 188), (19, 211), (19, 213), (19, 223), (19, 224), (19, 238),
    (19, 250), (20, 22), (20, 23), (20, 40), (20, 49), (20, 56), (20, 69), (20, 74), (20, 93), (20, 94), (20, 95),
    (20, 97), (20, 103), (20, 107), (20, 110), (20, 115), (20, 145), (20, 156), (20, 185), (20, 198), (20, 204),
    (20, 214), (20, 218), (20, 228), (20, 253), (20, 262), (20, 273), (20, 298), (21, 78), (21, 174), (21, 180),
    (21, 203), (21, 226), (21, 298), (22, 25), (22, 28), (22, 53), (22, 140), (22, 157), (22, 158), (22, 185),
    (22, 209), (22, 213), (22, 226), (22, 257), (23, 39), (23, 46), (23, 57), (23, 79), (23, 88), (23, 90), (23, 91),
    (23, 100), (23, 118), (23, 149), (23, 164), (23, 172), (23, 222), (23, 227), (23, 242), (23, 299), (24, 30),
    (24, 233), (24, 235), (25, 78), (25, 112), (25, 117), (25, 122), (25, 130), (25, 138), (25, 173), (25, 181),
    (25, 228), (25, 230), (25, 258), (26, 36), (26, 60), (26, 66), (26, 88), (26, 89), (26, 92), (26, 112), (26, 117),
    (26, 133), (26, 136), (26, 144), (26, 145), (26, 159), (26, 161), (26, 176), (26, 177), (26, 231), (26, 252),
    (26, 260), (26, 263), (27, 31), (27, 35), (27, 46), (27, 57), (27, 71), (27, 88), (27, 105), (27, 111), (27, 127),
    (27, 151), (27, 170), (27, 172), (27, 192), (27, 213), (27, 238), (27, 250), (27, 255), (28, 41), (28, 45),
    (28, 76), (28, 113), (28, 116), (28, 118), (28, 119), (28, 120), (28, 133), (28, 159), (28, 173), (28, 181),
    (28, 195), (28, 199), (28, 243), (28, 253), (28, 262), (28, 269), (28, 288), (28, 290), (29, 41), (29, 66),
    (29, 72), (29, 79), (29, 81), (29, 84), (29, 95), (29, 104), (29, 133), (29, 148), (29, 159), (29, 176), (29, 183),
    (29, 194), (29, 196), (29, 207), (29, 212), (29, 238), (29, 246), (29, 249), (29, 277), (30, 46), (30, 48),
    (30, 54), (30, 190), (30, 197), (31, 103), (31, 212), (31, 213), (32, 33), (32, 49), (32, 70), (32, 86), (32, 87),
    (32, 105), (32, 112), (33, 48), (33, 85), (33, 90), (33, 116), (33, 121), (33, 125), (33, 128), (33, 132),
    (33, 146), (33, 160), (33, 162), (33, 243), (33, 244), (33, 289), (34, 69), (34, 94), (34, 114), (34, 127),
    (34, 141), (34, 265), (35, 60), (35, 68), (35, 84), (35, 90), (35, 108), (35, 124), (35, 134), (35, 155), (35, 170),
    (35, 209), (35, 230), (35, 242), (35, 256), (35, 280), (36, 70), (37, 189), (37, 225), (37, 234), (37, 284),
    (38, 42), (38, 44), (38, 53), (38, 61), (38, 66), (38, 72), (38, 86), (38, 109), (38, 122), (38, 124), (38, 129),
    (38, 144), (38, 149), (38, 174), (38, 219), (38, 255), (39, 51), (39, 60), (39, 69), (39, 79), (39, 100), (39, 148),
    (39, 257), (39, 276), (40, 42), (40, 71), (40, 76), (40, 108), (40, 115), (40, 120), (40, 131), (40, 142),
    (40, 248), (41, 49), (41, 55), (41, 81), (41, 85), (41, 106), (41, 124), (41, 157), (41, 169), (41, 186), (41, 208),
    (41, 210), (41, 225), (42, 102), (42, 186), (42, 209), (43, 92), (43, 99), (43, 111), (43, 116), (43, 144),
    (43, 147), (43, 148), (43, 155), (43, 175), (43, 181), (43, 183), (43, 193), (43, 202), (43, 208), (43, 222),
    (43, 223), (43, 233), (44, 45), (44, 62), (44, 68), (44, 72), (44, 140), (44, 164), (44, 238), (44, 287), (45, 73),
    (45, 299), (46, 49), (46, 74), (46, 119), (46, 137), (46, 245), (47, 99), (47, 118), (47, 128), (47, 182),
    (47, 205), (47, 233), (47, 294), (48, 58), (48, 91), (48, 190), (48, 264), (49, 122), (49, 134), (49, 192),
    (49, 217), (49, 266), (50, 77), (50, 123), (50, 184), (50, 195), (51, 91), (51, 92), (51, 152), (51, 165),
    (51, 225), (52, 71), (52, 111), (52, 121), (52, 158), (52, 163), (52, 289), (53, 54), (53, 227), (54, 101),
    (54, 189), (54, 192), (54, 269), (55, 61), (55, 95), (55, 135), (55, 136), (55, 175), (55, 253), (55, 285),
    (56, 71), (56, 162), (56, 167), (56, 192), (56, 236), (57, 66), (57, 104), (57, 151), (57, 182), (57, 200),
    (57, 209), (57, 220), (57, 231), (58, 153), (58, 258), (59, 91), (59, 101), (59, 104), (59, 108), (59, 114),
    (59, 171), (59, 193), (59, 198), (59, 251), (60, 129), (60, 205), (61, 62), (61, 120), (61, 184), (61, 211),
    (61, 214), (61, 226), (62, 65), (62, 81), (62, 85), (62, 96), (62, 202), (62, 217), (62, 266), (63, 73), (63, 84),
    (63, 98), (63, 118), (63, 128), (63, 139), (63, 158), (63, 187), (63, 225), (63, 260), (64, 74), (64, 143),
    (64, 172), (64, 214), (65, 104), (65, 156), (65, 160), (65, 179), (65, 183), (65, 272), (65, 290), (66, 86),
    (66, 109), (66, 113), (66, 176), (66, 279), (68, 82), (68, 121), (68, 145), (68, 178), (69, 75), (69, 84), (69, 92),
    (69, 236), (69, 237), (69, 248), (70, 126), (70, 180), (70, 212), (71, 125), (71, 171), (71, 239), (72, 123),
    (72, 135), (72, 205), (72, 240), (73, 105), (73, 148), (73, 205), (73, 208), (73, 250), (73, 266), (74, 276),
    (74, 281), (75, 94), (75, 174), (75, 195), (75, 197), (75, 210), (75, 223), (75, 229), (75, 246), (76, 110),
    (76, 276), (77, 142), (77, 283), (80, 87), (81, 129), (81, 255), (82, 93), (82, 149), (82, 154), (83, 126),
    (83, 134), (84, 130), (84, 198), (84, 204), (85, 122), (85, 224), (85, 248), (86, 115), (86, 127), (86, 180),
    (86, 191), (87, 131), (87, 143), (87, 152), (87, 265), (87, 286), (88, 111), (88, 169), (88, 174), (88, 200),
    (90, 130), (90, 157), (91, 97), (91, 194), (91, 260), (93, 102), (95, 98), (95, 113), (95, 201), (96, 129),
    (96, 149), (96, 207), (96, 251), (97, 119), (97, 197), (98, 224), (99, 116), (99, 137), (99, 159), (99, 177),
    (99, 224), (99, 258), (99, 298), (100, 106), (100, 163), (101, 138), (101, 150), (101, 151), (101, 157), (101, 161),
    (101, 167), (101, 187), (101, 196), (101, 208), (101, 221), (101, 232), (101, 252), (101, 288), (102, 109),
    (102, 271), (103, 160), (103, 179), (104, 128), (104, 280), (105, 139), (105, 155), (105, 210), (105, 252),
    (105, 264), (105, 282), (106, 281), (107, 153), (107, 196), (107, 239), (107, 297), (108, 133), (108, 143),
    (108, 147), (108, 160), (109, 161), (111, 123), (111, 126), (111, 152), (111, 166), (111, 188), (111, 223),
    (111, 251), (112, 123), (112, 206), (112, 235), (112, 244), (112, 292), (113, 162), (115, 138), (115, 241),
    (115, 291), (116, 166), (116, 168), (116, 259), (118, 237), (118, 240), (118, 274), (119, 176), (119, 220),
    (120, 287), (122, 175), (123, 280), (124, 265), (125, 132), (127, 167), (127, 228), (127, 236), (129, 200),
    (129, 286), (130, 141), (130, 234), (131, 202), (132, 135), (132, 165), (132, 177), (132, 178), (132, 184),
    (132, 215), (132, 218), (132, 237), (133, 146), (133, 154), (133, 163), (133, 218), (133, 239), (133, 262),
    (134, 172), (134, 182), (136, 207), (136, 267), (138, 141), (138, 247), (138, 270), (139, 218), (139, 276),
    (139, 278), (140, 294), (141, 229), (141, 252), (142, 195), (142, 230), (142, 268), (143, 188), (144, 249),
    (145, 211), (145, 249), (146, 295), (150, 275), (153, 178), (154, 271), (154, 284), (155, 263), (156, 169),
    (156, 193), (156, 271), (159, 278), (160, 169), (160, 180), (160, 230), (160, 245), (160, 256), (160, 270),
    (161, 216), (161, 259), (162, 177), (163, 227), (163, 241), (163, 263), (163, 268), (163, 284), (164, 175),
    (164, 267), (167, 220), (168, 193), (168, 281), (169, 229), (170, 191), (170, 206), (170, 258), (171, 257),
    (172, 190), (175, 178), (175, 185), (175, 290), (175, 297), (177, 200), (180, 216), (180, 219), (180, 256),
    (180, 257), (180, 280), (183, 282), (184, 235), (187, 217), (188, 221), (188, 267), (189, 229), (191, 292),
    (191, 297), (194, 203), (194, 215), (199, 267), (201, 240), (201, 277), (204, 212), (204, 226), (204, 279),
    (204, 299), (210, 283), (211, 275), (212, 234), (213, 293), (215, 221), (217, 222), (217, 231), (217, 285),
    (217, 287), (220, 282), (223, 231), (224, 260), (224, 283), (225, 228), (228, 232), (228, 278), (231, 247),
    (236, 263), (238, 283), (238, 293), (240, 255), (241, 295), (244, 268), (245, 293), (246, 274), (248, 261),
    (248, 284), (249, 297), (254, 271), (254, 299), (260, 261), (266, 275), (269, 291), (271, 274), (273, 278),
    (279, 291), (280, 288), (287, 295), (294, 296)
]


def run():
    num_nodes = 300
    graph_id = 1
    filename = "../data/syn_BA/barabasi_albert_300_ID1.txt"

    # GRAPH_DISTRI_TYPES: List[GraphDistriType] = [GraphDistriType.erdos_renyi, GraphDistriType.powerlaw,
    #                                              GraphDistriType.barabasi_albert]
    g_type = GRAPH_DISTRI_TYPES[2]
    # The random seed can only be set externally.
    import random
    random.seed(graph_id)
    # Because the internal of this generator function lacks the step of setting a random seed.
    graph, num_nodes, num_edges = generate_graph(num_nodes=num_nodes, g_type=g_type)

    os.makedirs(os.path.dirname(filename), exist_ok=True)
    save_graph_info_to_txt(txt_path=filename, graph=graph, num_nodes=num_nodes, num_edges=num_edges)

    test_x = True
    if test_x:
        x_str = "YRBr0EfnOylAI0VppsZuK8$oA9I1h1utf71604ydUKpbZcRx_a"
        obj = calc_obj_maxcut_xstr(x_str, filename)
        print("obj: ", obj)  # the result is 882, instead of 500


if __name__ == '__main__':
    run()
